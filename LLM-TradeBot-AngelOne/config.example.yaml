# =====================================================
# LLM-TradeBot AngelOne Configuration
# =====================================================
# 
# This configuration file is for AngelOne (Indian Stock Broker) integration.
# Sensitive credentials should be stored in .env file.
#
# =====================================================

# -----------------------------------------------------
# AngelOne Broker Configuration
# -----------------------------------------------------
# Get credentials at: https://smartapi.angelone.in/
# 
# Note: All sensitive values will be overridden by environment variables
# Recommended to use .env file for api_key, client_code, password, totp_secret
#
angelone:
  api_key: "${ANGELONE_API_KEY}"           # SmartAPI Key from AngelOne
  client_code: "${ANGELONE_CLIENT_CODE}"   # Your AngelOne Client ID
  password: "${ANGELONE_PASSWORD}"         # Your AngelOne Password (PIN)
  totp_secret: "${ANGELONE_TOTP_SECRET}"   # TOTP Secret for 2FA
  testnet: false                           # AngelOne doesn't have testnet, always live

# -----------------------------------------------------
# Trading Configuration
# -----------------------------------------------------
trading:
  # Exchange: NSE, BSE, NFO (F&O), MCX (Commodities)
  exchange: "NSE"
  
  # Trading symbols - Indian market format
  # Equity: RELIANCE, TCS, INFY, HDFCBANK
  # Futures: NIFTY (auto-maps to current month), BANKNIFTY
  # Options: NIFTY23DEC21000CE, BANKNIFTY23DEC45000PE
  symbols:
    - symbol: "RELIANCE"
      exchange: "NSE"
      instrument_type: "EQ"
    - symbol: "TCS"
      exchange: "NSE"
      instrument_type: "EQ"
  
  primary_symbol: "RELIANCE"  # Primary trading symbol
  
  # Timeframes supported: 1m, 5m, 15m, 1h, 1d
  timeframes: ["1m", "5m", "15m", "1h"]
  
  # Product types: INTRADAY, DELIVERY, CARRYFORWARD
  product_type: "INTRADAY"
  
  # Default quantity for orders
  default_quantity: 1
  
  # Leverage (for F&O)
  leverage: 1

# -----------------------------------------------------
# Market Hours Configuration (IST - Indian Standard Time)
# -----------------------------------------------------
market:
  timezone: "Asia/Kolkata"
  pre_market_start: "09:00"    # Pre-market session start
  market_open: "09:15"         # Regular market open
  market_close: "15:30"        # Market close
  post_market_end: "16:00"     # Post-market session end

# -----------------------------------------------------
# Risk Management Configuration
# -----------------------------------------------------
risk:
  max_risk_per_trade_pct: 1.5      # Maximum risk per trade (%)
  max_total_position_pct: 30.0     # Maximum total position (%)
  max_leverage: 5                   # Maximum leverage allowed
  max_consecutive_losses: 3         # Stop after N consecutive losses
  stop_trading_on_drawdown_pct: 10.0  # Stop trading on drawdown (%)

# -----------------------------------------------------
# LLM Configuration (Multi-provider support)
# -----------------------------------------------------
# Supported providers: openai, deepseek, claude, qwen, gemini
llm:
  provider: deepseek              # Currently used provider
  model: deepseek-chat            # Model name
  temperature: 0.3
  max_tokens: 2000
  timeout: 120
  max_retries: 3

# DeepSeek API Configuration
deepseek:
  api_key: "${DEEPSEEK_API_KEY}"
  base_url: "https://api.deepseek.com"
  model: "deepseek-chat"
  temperature: 0.3
  max_tokens: 2000

# -----------------------------------------------------
# Redis Configuration (Optional - for caching)
# -----------------------------------------------------
redis:
  host: "localhost"
  port: 6379
  db: 0

# -----------------------------------------------------
# Logging Configuration
# -----------------------------------------------------
logging:
  level: "INFO"
  file: "logs/trading.log"

# -----------------------------------------------------
# Backtest Configuration
# -----------------------------------------------------
backtest:
  start_date: "2024-01-01"
  end_date: "2024-12-01"
  initial_capital: 100000
  # Indian market brokerage (approximate)
  brokerage_per_trade: 20        # Flat fee per trade (INR)
  stt_rate: 0.001                # STT rate (0.1%)
  gst_rate: 0.18                 # GST on brokerage (18%)
  stamp_duty_rate: 0.00015       # Stamp duty (0.015%)
